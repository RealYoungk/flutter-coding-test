# Flutter 개발자 채용 과제

## 과제명

**실시간 관심 종목 모니터링 – 종목 상세 페이지 구현**

---

## 과제 배경

본 과제는 사용자가 관심 종목을 등록하고, 실시간 가격 변동을 확인하며, 목표가 도달 시 알림을 받는 기능을 구현하는 것을 목표로 합니다.
그중 **본 과제에서 구현해야 할 핵심 화면은 '종목 상세 페이지'**이며,
스크롤 기반의 섹션 구조와 섹션 네비게이션 UI 동작을 중점적으로 평가합니다.

실제 API 연동은 필요 없으며, 구조와 상태 관리, UI 동작의 정확성이 중요합니다.

---

## 전체 요구사항 개요

- Clean Architecture 기반 구조
- 실시간 가격 스트림 처리
- 종목 상세 페이지 중심 UI 구현
- 스크롤 연동 섹션 네비게이션 구현

---

## 1. 아키텍처 요구사항

### Clean Architecture 구조

```
domain/
├── entities/
│   └── watchlist_item.dart
├── repos/
│   └── watchlist_repo.dart
└── usecases/
    └── watchlist_usecase.dart
```

### WatchlistItem 엔티티 정의

| 필드 | 타입 | 설명 |
|------|------|------|
| `stockCode` | `String` | 종목 코드 |
| `targetPrice` | `int?` (nullable) | 목표가 |
| `alertType` | enum | 알림 조건 (상한가 / 하한가 / 양방향) |
| `createdAt` | `DateTime` | 등록 시각 |

---

## 2. 데이터 계층

### Local DataSource

- **Hive**를 사용해 관심 종목 저장
- 앱 재시작 후에도 데이터 유지

### Remote DataSource (Mock WebSocket)

아래 형식의 메시지를 실시간 가격 데이터로 처리합니다.

```json
{
  "type": "price_update",
  "stockCode": "005930",
  "currentPrice": 72500,
  "changeRate": 1.25,
  "timestamp": "2024-01-15T09:30:00Z"
}
```

---

## 3. 상태 관리 (Presentation Layer)

### WatchlistProvider (ChangeNotifier)

아래 역할을 수행해야 합니다.

- 관심 종목 CRUD
- 실시간 가격 스트림 구독
- 목표가 도달 여부 감지
- 목표가 도달 시 알림 트리거

---

## 4. 화면 구성 – 종목 상세 페이지 (핵심)

이 과제에서 구현해야 할 화면은 **'종목 상세 페이지'**입니다.

---

### 4-1. 화면 상단 영역 (헤더)

화면 최상단에는 반드시 다음 요소가 포함되어야 합니다.

- 종목명
- 종목 로고
- (선택) 종목 코드

AppBar 내부 또는 AppBar 바로 아래 pinned 영역 등 구현 방식은 자유이나,
사용자가 보기에 명확히 "상단 헤더"로 인식되어야 합니다.

---

### 4-2. AppBar 아래 섹션 네비게이션 버튼

AppBar 바로 아래에 가로로 나열된 버튼 영역을 배치합니다.

- 버튼은 가로 스크롤 가능
- 각 버튼은 본문에 존재하는 특정 섹션과 1:1 매칭
- 버튼 클릭 시 해당 섹션 위치로 스크롤 이동

**예시:**
- 가격
- 요약
- 입력
- 확장 패널
- 기타 섹션

---

### 4-3. 본문 필수 영역

본문 상단에는 반드시 아래 요소가 포함되어야 합니다.

- **가격 그래프** (Mock 데이터 가능)
- **현재 가격 표시** (명확하게 보이도록)

> 그래프의 정확도는 중요하지 않으며,
> UI 컴포넌트 구조와 상태 반영 흐름을 평가합니다.

---

### 4-4. 본문 하단 데모 섹션들

가격 그래프 아래에는 의미 없는 데모용 섹션을 여러 개 추가합니다.
단, 아래 조건은 반드시 만족해야 합니다.

#### 필수 포함 섹션

1. **입력 가능한 섹션**
   - `TextField` 포함
   - 키보드 입력 가능해야 함

2. **Expansion Panel 섹션**
   - `ExpansionPanelList` 또는 유사 컴포넌트 사용

#### 공통 요구사항

- 각 섹션은 제목이 명확해야 함
- 섹션 간 구분이 시각적으로 분명해야 함
- 스크롤 위치 판별이 가능하도록 구조화되어야 함
- 필수 포함 섹션 외에 의미가 없는 섹션이 여러 개가 있어야 함

---

### 4-5. 스크롤 연동 버튼 하이라이팅

사용자가 화면을 스크롤할 때 다음 동작이 구현되어야 합니다.

- 현재 화면에 보이는 섹션에 해당하는 버튼이 **자동으로 하이라이팅**
- 버튼 상태는 스크롤 위치에 따라 **실시간으로 변경**
- 불필요한 rebuild나 끊김(jank)이 없어야 함

#### 구현 방식은 자유

- `ScrollController`
- `GlobalKey`
- `NotificationListener`
- 섹션 offset 계산 등

#### 필수 준수 사항

- 컨트롤러 및 스트림은 `dispose`에서 정리
- 메모리 누수 없이 동작해야 함

---

## 5. 제약 조건

| 항목 | 요구사항 |
|------|----------|
| 아키텍처 | Clean Architecture 준수 |
| 상태 관리 | Provider + ChangeNotifier |
| 의존성 주입 | `get_it` |
| 스트림 처리 | `rxdart` BehaviorSubject 사용 |
| 메모리 관리 | 화면 이탈 시 구독/컨트롤러 해제 |
| API 연동 | 실제 API 연동 불필요 (Mock 데이터 사용 가능) |

---

## 6. 평가 기준

| 항목 | 비중 | 평가 내용 |
|------|------|-----------|
| 아키텍처 | 30% | 계층 분리, 의존성 방향, 추상화 |
| 상태 관리 | 25% | Provider 활용, 효율적인 상태 업데이트 |
| 스트림 처리 | 20% | 구독/해제, 에러 처리 |
| 코드 품질 | 15% | 가독성, 네이밍, SOLID |
| 엣지 케이스 | 10% | 중복 등록, 네트워크 끊김 등 |
| UI 동작 | **중요** | 섹션 이동 및 하이라이팅 정확성 |

---

## 7. 보너스 (선택)

- 단위 테스트 작성 (`mocktail`)
- 종목 검색 기능
- 알림 히스토리 저장

---

## 8. 제출 형식

1. **GitHub Repository 링크**
2. **README 포함 내용**
   - 실행 방법
   - 아키텍처 설명
   - 종목 상세 페이지의 섹션 네비게이션/하이라이팅 구현 방식
3. **권장 소요 시간:** 약 4시간

---

## 참고 사항

- UI 디자인은 기본 수준이면 충분합니다.
- 핵심은 **구조, 상태 흐름, 스크롤 연동 UI 동작의 정확성**입니다.
